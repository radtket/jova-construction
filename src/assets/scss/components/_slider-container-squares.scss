@import '../variables';

#slider-container-squares {
  @include size(100%);
  background: $color-cararra;
  left: 0;
  overflow: hidden;
  position: fixed;
  top: 0;
  z-index: 600;

  > {
    .slider-arrows {
      @include position(absolute, -5000px null null -5000px);
    }

    .slider-controls {
      display: none;
    }

    .slider {
      @include size(100%);
      @include position(absolute, 0 null null 0);

      > ul {
        @include size(100%);
        @include position(absolute, 0 null null 0);
        overflow: hidden;
        perspective: 1080px;

        > li {
          @include size(100%);
          @include position(absolute, 0 null null 0);
          transform: translate3d(0, 0, 360px);
          transition-delay: 0s;
          transition-duration: 1.65s;
          transition-property: transform;
          transition-timing-function: ease-in-out;
          z-index: 1;

          > {
            .slice {
              @include position(absolute, 0 null null 0);
              height: 51%;
              overflow: hidden;
              width: 34%;
              z-index: 1;

              > div {
                @include size(100%);
                @include position(relative, null null null 0);
                background: $color-woodsmoke;
                overflow: hidden;
                transition-delay: 0s;
                transition-duration: 0.9s;
                transition-property: left;
                transition-timing-function: cubic-bezier(0.7, 0, 0.3, 1);

                > div {
                  @include position(absolute, 0 null null 0);
                  background-repeat: no-repeat;
                  background-size: cover;
                  height: 196%;
                  width: 296%;

                  > div {
                    @include size(100%);
                    background: $color-woodsmoke;
                    display: block;
                    filter: alpha(opacity=30);
                    opacity: 0.3;
                    position: relative;
                    transition-delay: 0s;
                    transition-duration: 1.65s;
                    transition-property: opacity;
                    transition-timing-function: ease-in-out;
                  }
                }
              }

              &:nth-child(4) {
                top: 50%;
                z-index: 4;

                > div {
                  // transition-delay: 0.15s;
                  transition-delay: 0.3s;

                  > div {
                    top: -98%;
                  }
                }
              }

              &:nth-child(2) {
                left: 33%;
                z-index: 2;

                > div {
                  transition-delay: 0.3s;

                  > div {
                    left: -97%;
                  }
                }
              }

              &:nth-child(5) {
                left: 33%;
                top: 50%;
                z-index: 5;

                > div {
                  transition-delay: 0.45s;

                  > div {
                    left: -97%;
                    top: -98%;
                  }
                }
              }

              &:nth-child(3) {
                left: 66%;
                z-index: 3;

                > div {
                  transition-delay: 0.6s;

                  > div {
                    left: -194%;
                  }
                }
              }

              &:nth-child(6) {
                left: 66%;
                top: 50%;
                z-index: 6;

                > div {
                  transition-delay: 0.75s;

                  > div {
                    left: -194%;
                    top: -98%;
                  }
                }
              }
            }

            .blur {
              @include size(100%);
              @include position(absolute, 0 null null 0);
              background-repeat: no-repeat;
              background-size: cover;
              opacity: 0;
              z-index: 10;
            }
          }

          &.active {
            transform: translate3d(0, 0, 0);
            z-index: 2;

            > .slice > div {
              left: 0;

              > div > div {
                filter: alpha(opacity=0);
                opacity: 0;
              }
            }
          }

          &.leaving {
            transform: translate3d(0, 0, 0);
            z-index: 3;

            > .slice > div {
              left: -100%;

              > div > div {
                filter: alpha(opacity=0);
                opacity: 0;
              }
            }
          }
        }
      }
    }

    .card-container {
      @include position(absolute, null 30px 30px null);
      width: 480px;
      z-index: 30;

      .content {
        position: relative;
      }

      h2 {
        color: transparent;
        margin: 0 $slider-buttons-width;
        position: relative;
        transition-delay: 1.35s;
        transition-duration: 0.45s;
        transition-property: color;
        transition-timing-function: ease-in-out;

        .small {
          @include position(absolute, 7px null null 10px);
          display: block;
          font-family: $font-family-oswald;
          font-size: 8px;
          letter-spacing: 0.1em;
          text-transform: uppercase;
        }

        .big {
          display: block;
          font-family: $font-family-anonymous;
          font-size: 18px;
          line-height: 50px;
          padding: 17px 25px 0;
          white-space: nowrap;
        }

        .border > div {
          transition-delay: 1.1s;
        }
      }

      .infos {
        height: 0;
        margin: 0 $slider-buttons-width;
        overflow: hidden;
        position: relative;

        > .text {
          padding: 25px 25px 35px;
          position: relative;

          p {
            font-family: $font-family-anonymous;
            font-size: 14px;
            line-height: 28px;

            + p {
              padding-top: 20px;
            }
          }

          .share {
            bottom: 30px;
            left: 25px;
            position: absolute;

            > li {
              float: left;
              padding-right: 25px;

              a {
                background: $url-0 no-repeat 0 0;
                display: block;
                height: 34px;
                text-indent: -5000px;
                width: 36px;

                &:hover {
                  filter: alpha(opacity=40);
                  opacity: 0.4;
                }
              }

              &.twitter {
                a {
                  background-position: -36px 0;
                }
              }

              &.pinterest {
                a {
                  background-position: -72px 0;
                }
              }
            }
          }
        }
      }

      .menu {
        margin: 0 $slider-buttons-width;
        overflow: hidden;

        > li {
          float: left;
          overflow: hidden;
          position: relative;
          transition-delay: 0s;
          transition-duration: 0.45s;
          transition-property: background;
          transition-timing-function: ease-in-out;
          width: 50%;

          a {
            color: $color-rangoon-green;
            display: block;
            filter: alpha(opacity=0);
            font-family: $font-family-oswald;
            font-size: 13px;
            letter-spacing: 0.65em;
            line-height: 65px;
            opacity: 0;
            position: relative;
            text-align: center;
            text-transform: uppercase;
            transition-delay: 1.45s;
            transition-duration: 0.45s;
            transition-property: opacity;
            transition-timing-function: ease-in-out;

            .effect {
              &::before {
                font-family: $font-family-oswald;
                font-size: 13px;
                letter-spacing: 0.65em;
                padding: 0;
                text-align: center;
              }
            }

            .border {
              > div {
                transition-delay: 1.2s;
              }
            }
          }

          &.btn-infos-close {
            display: none;
          }

          &.btn-infos {
            a {
              transition-delay: 1.55s;

              .border {
                > div {
                  transition-delay: 1.3s;
                }
              }
            }
          }
        }
      }

      .btn-previous {
        @include size($slider-buttons-width, 100%);
        background: $url-1 repeat-x center center;
        bottom: 0;
        display: block;
        left: 0;
        position: absolute;

        .small {
          color: transparent;
          display: block;
          font-family: $font-family-oswald;
          font-size: 8px;
          left: 10px;
          letter-spacing: 0.1em;
          position: absolute;
          text-transform: uppercase;
          top: 7px;
          transition-delay: 1.25s;
          transition-duration: 0.45s;
          transition-property: color;
          transition-timing-function: ease-in-out;
        }

        &:hover {
          background-position: -58px center;
        }
      }

      .btn-next {
        @include size($slider-buttons-width, 100%);
        background: $url-2 repeat-x center center;
        bottom: 0;
        display: block;
        position: absolute;
        right: 0;

        .small {
          color: transparent;
          display: block;
          font-family: $font-family-oswald;
          font-size: 8px;
          left: 10px;
          letter-spacing: 0.1em;
          position: absolute;
          text-transform: uppercase;
          top: 7px;
          transition-delay: 1.25s;
          transition-duration: 0.45s;
          transition-property: color;
          transition-timing-function: ease-in-out;
        }

        &:hover {
          background-position: 58px center;
        }
      }

      &.loaded {
        h2 {
          color: $color-rangoon-green;
        }

        .btn-previous {
          .small {
            color: $color-rangoon-green;
          }
        }

        .btn-next {
          .small {
            color: $color-rangoon-green;
          }
        }

        .menu {
          li {
            a {
              filter: alpha(opacity=100);
              opacity: 1;
            }
          }
        }
      }

      > div > div {
        width: 432px;
      }
    }

    .btn-back {
      @include size(100%);
      @include position(absolute, 0 null null 0);
      cursor: $url-3 21 21, auto;
      display: block;
      z-index: 25;
    }
  }

  &.t-scale > .slider > ul > li {
    transform: scale(1.5);

    &.active,
    &.leaving {
      transform: scale(1);
    }
  }
}
